<mat-form-field appearance="outline" class="w-100">
  <mat-label i18n>Tags</mat-label>
  <mat-chip-grid #tagsChipList>
    @for (tag of tagsSignal(); track tag.id) {
      <mat-chip-row
        matChipRemove
        [removable]="true"
        (removed)="onRemoveTag(tag)"
      >
        {{ tag.name }}
        <ion-icon class="ml-2" matPrefix name="close-outline" />
      </mat-chip-row>
    }
    <input
      #tagInput
      name="close-outline"
      [matAutocomplete]="autocompleteTags"
      [matChipInputFor]="tagsChipList"
      [(ngModel)]="currentTag"
    />
  </mat-chip-grid>
  <mat-autocomplete
    #autocompleteTags="matAutocomplete"
    (optionSelected)="onAddTag($event)"
  >
    @for (tag of filteredTags(); track tag.id) {
      <mat-option [value]="tag.id">
        {{ tag.name }}
      </mat-option>
    }
  </mat-autocomplete>
</mat-form-field>
